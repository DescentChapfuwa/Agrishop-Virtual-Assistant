flows:
  greet_user:
    description: Greet user at the start of the conversation before they anything and introduce what the chatbot does
    steps:
      - action: utter_greet_user

  transfer_money:
    description: Help users send money to friends and family.
    steps:
      - collect: recipient
      - collect: amount
        description: the number of US dollars to send
      - action: action_check_sufficient_funds
        next:
          - if: not slots.has_sufficient_funds
            then:
              - action: utter_insufficient_funds
                next: END
          - else: final_confirmation
      - collect: final_confirmation
        id: final_confirmation
        next:
         - if: not slots.final_confirmation
           then:
              - action: utter_transfer_cancelled
                next: END
         - else: transfer_successful
      - action: utter_transfer_complete
        id: transfer_successful
          
  product_inquiry:
     description : help users to select the farming products they desire to buy based on what is available.
     steps:
       - collect: product_type
         description: the type of farming product the customer wishes to buy
         next:
           - if: slots.product_type = "fertilizer"
             then:
               - link: fertilizers
           - if: slots.product_type = "seeds"
             then:
               - link: seeds
           - if: slots.product_type = "pesticides"
             then:
               - link:  pesticides
           - else:
               - link: tools


  fertilizers:
    description: A pathway for guiding users who require to buy fertilizers
    steps:
      - collect: variety_fertilizers
        description: Collection of the different type of fertilizers available
        next:
          - if: slots.variety_fertilizers = "npk-fertilizers"
            then:
              - collect: npk_fertilizer
                description: The specific NPK fertilizer product the customer wants to buy
                next: weight_step
          - if: slots.variety_fertilizers = "secondary_nutrients"
            then:
              - collect: secondary_nutrients
                description: The specific secondary nutrients fertilizer product the customer wants to buy
                next: weight_step
          - if: slots.variety_fertilizers = "micro-nutrients"
            then:
              - collect: micro_nutrients
                description: The specific micro-nutrients fertilizer product the customer wants to buy
                next: weight_step
          - else:
              - collect: organic_fertilizer
                description: The specific organic fertilizer product the customer wants to buy
                next: weight_step      
      - id: weight_step
        collect: product_weight
        description: The weight of the fertilizer the customer wishes to buy in kilograms
      
      - collect: product_quantity_fertilizer
        description: The amount or quantity of bags of fertilizers needed by the customer
      
      - action: utter_product_info_summary_fertilizer

  pesticides:
      description : a pathway for guiding  users who require to buy pesticides.
      steps:
        - collect: variety_pesticides
          description: collection of the different type of pesticides available.
          next:
            - if: slots.variety_pesticides = "insecticides"
              then:
                - collect: insecticides
                  next: weight
            - if: slots.variety_pesticides = "herbicides"
              then:
                - collect: herbicides
                  next: weight
            - if: slots.variety_pesticides = "fungicides"
              then:
                - collect: fungicides
                  next: weight
            - else:
                - collect: rodenticides
                  next: weight
        - collect: product_weight_pesticides
          id: weight
          description: the amount of pesticides in mililitres or litres  the customer wishes to buy
        - collect: product_quantity_pesticides
          description: the quantity in bottles of the pesticides needed by the customer.
        - action: utter_product_info_summary_pesticides

  seeds:
    description : a pathway for guiding  users who require to buy seeds.
    steps:
      - collect: variety_seeds
        description: collection of the different type of seeds available.      
      - collect: product_weight
        description: the amount of pesticides in mililitres or litres  the customer wishes to buy
      - collect: product_quantity_seeds
        description: the quantity in bottles of the pesticides needed by the customer.
      - action: utter_product_info_summary_seeds

  tools:
    description : a pathway for guiding  users who require to buy tools.
    steps:
      - collect: variety_tools
        description: collection of the different type of tools available.
        next:
          - if: slots.variety_tools = "power-tools"
            then:
              - collect: power_tools
                next: summary
          - if: slots.variety_tools = "cutting-tools"
            then:
              - collect: cutting_tools
                next: summary
          - if: slots.variety_tools = "watering-tools"
            then:
              - collect: watering_tools
                next: summary
          - else:
              - collect: fertilizing_tools
                next: summary
      - action: utter_product_info_summary_tools
        id: summary
        next: 
          - if: slots.product_name = "horsepipe"
            then:
              - action: utter_how_long
                next: END
          - else:
            - collect: product_quantity_tools
              next: END
               

        

              
            
          
    